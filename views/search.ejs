<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chillinker</title>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+KR:wght@100;200;300;400;500;600;700&family=Sriracha&display=swap');
    </style>
    <script
      src="https://kit.fontawesome.com/0b832ce4c1.js"
      crossorigin="anonymous"
    >
    </script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  </head>
  <body>
    <header>
      <div class="inner_header">
        <h1 class="logo">
          <a href="#">Chillinker</a>
        </h1>
        <div class="header_right">
          <div class="search_box">
            <form action="/search" method="get">
              <input
                class="search_text"
                type="search"
                placeholder="작품명, 작가 검색"
                id="search-input"
                name="query"
              />
              <i class="fa fa-search" aria-hidden="true">
                <input
                  type="submit"
                  value="검색"
                  id="search"
                  class="submit_btn"
              /></i>
            </form>
          </div>
          <ul>
            <li><a href="#">로그인</a></li>
            <li><a href="#">회원가입</a></li>
          </ul>
        </div>
      </div>
    </header>

    <div class="wrap">
      <div
        class="search_input_bar"
        style="height: 50px; background-color: #f5f5fa; padding: 15px"
      >
        <div class="search_input_text">"<%= keyword %>"의 검색결과</div>
      </div>
    <main style="width: 1200px; height: auto; margin: 0px auto 0px auto">
        <div class="search_btn_bar">
          <ul class="search_bar_list" style="display: flex; padding: 15px">
            <li class="search_btn1" style="margin-right: 10px;">
              <a href="/search?type=webnovels&query=<%= keyword %>">웹소설</a>
            </li>
            <li class="search_btn2"  style="margin-right: 10px;">
              <a href="/search?type=webtoons&query=<%= keyword %>">웹툰</a>
            </li>
            <li class="search_btn3"  style="margin-right: 10px;">
              <a href="/search?type=authors&query=<%= keyword %>">작가</a>
            </li>
            <li class="search_btn4"  style="margin-right: 10px;">
              <a href="/search?type=users&query=<%= keyword %>">유저</a>
            </li>
            <li class="search_btn5" style="margin-right: 10px;">
              <a href="/search?type=collections&query=<%= keyword %>">컬렉션</a>
            </li>
          </ul>
        </div>
        <div class="result_section">
          <ul class="result_list" display:flex="">
            <% if (!keyword) { %>
            <div class="empty_search">
              <p>검색어를 입력하세요.</p>
            </div>
            <% } %>
            <%if (type == 'webtoons') { %>
              <div class="result_list" >
              <% webtoons.forEach((item) => { %>
                <div class="card">
                  <img src="<%= item.image %>" alt="<%= item.title %>" class="card-image" >
                  <div class="card-info">
                    <h3 class="card-title" style="font-weight: 600;"><%= item.title %></h3>
                    <h4 class="card_author">
                      <%= item.author %>
                    </h4>
                  </div>
                </div>
              <% }); %>
            </div>
            <% } else if (type == 'authors') { %>
              <div class="result_list" >
                <% authors.forEach((item) => { %>
                  <div class="card">
                    <img src="<%= item.webContents_image %>" alt="<%= item.title %>" class="card-image" >
                    <div class="card-info">
                      <h3 class="card-title" style="font-weight: 600;"><%= item.webContents_title %></h3>
                      <h4 class="card_author">
                        <%= item.webContents_author %>
                      </h4>
                    </div>
                  </div>
                <% }); %>
              </div>
            <% } else if (type == 'users') { %> 
              <div class="result_list" >
                <% users.forEach((item) => { %>
                  <div class="card">
                    <% if (item.users_profile_image) { %>
                      <img src="<%= item.users_profile_image %>" alt="<%= item.title %>" class="card-image" name="profile-image">
                    <% } else { %>
                      <img src="https://picpac.kr/common/img/default_profile.png" alt="기본이미지" class="card-image" name="profile-image">
                    <% } %>
                    <div class="card-info">
                      <h3 class="card-title" style="font-weight: 600;"><%= item.users_nickname %></h3>
                      <h4 class="card-title" style="font-weight: 600;">리뷰 수: <%= item.title %></h4>
                      <h4 class="card_author">
                        <%= item.users_intro %>
                        <% if (item.users_intro) { %>
                          <%= item.users_intro %>
                        <% } else { %>
                        소개가 없습니다.
                        <% } %>
                      </h4>
                    </div>
                  </div>
                <% }); %>
                </div>
              <% } else if (type == 'collections') { %>
              <div class="result_list" >
                <% collections.forEach((item) => { %>
                  <div class="card">
                    <img src=" https://img.freepik.com/free-photo/cute-dog-with-glasses-sitting-on-books_23-2148917261.jpg " alt="<%= item.title %>" class="card-image" >
                    <div class="card-info">
                      <h3 class="card-title" style="font-weight: 600;"><%= item.collections_title %></h3>
                      <h4 class="card_author">
                        <%= item.collections_desc %>
                      </h4>
                 
                    </div>
                  </div>
                <% }); %>
              </div>
              <% } else { %>
              <div class="result_list" >
                <% webnovels.forEach((item) => { %>
                  <div class="card">
                    <img src="<%= item.image %>" alt="<%= item.title %>" class="card-image" >
                    <div class="card-info">
                      <h3 class="card-title" style="font-weight: 600;"><%= item.title %></h3>
                      <h4 class="card_author">
                        <%= item.author %>
                      </h4>
                    </div>
                  </div>
                <% }); %>
              </div>
            <% } %>
          </ul>
        </div>
    </main>
    <script src="/js/click.js"></script>
    <footer>
        <ul>
          <li>
            <a href="https://github.com/choobao/chillinker">
              <i class="fa fa-github" aria-hidden="true"></i>
            </a>
          </li>
        </ul>
        <p>Copyright © 2024 회빙환. All rights reserved.</p>
    </footer>
    </div>
  </body>
</html>
